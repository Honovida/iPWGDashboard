{% extends "base.html" %}
{% block content %}
<h2>تغییر رمز عبور ادمین</h2>
<form method="post" style="max-width:400px;margin:30px auto;background:var(--bg-secondary);padding:24px;border-radius:10px;box-shadow:0 2px 8px rgba(0,0,0,0.07);">
    <label style="color:var(--text-secondary);">رمز فعلی:</label>
    <input type="password" name="old_password" required style="width:100%;margin-bottom:16px;">
    <label style="color:var(--text-secondary);">رمز جدید:</label>
    <input type="password" name="new_password" required style="width:100%;margin-bottom:16px;">
    <button type="submit" style="background:var(--info);color:#fff;padding:10px 24px;border:none;border-radius:6px;cursor:pointer;">تغییر رمز</button>
</form>
{% if get_flashed_messages() %}
    <ul style="max-width:400px;margin:0 auto 20px;padding:0;">
    {% for msg in get_flashed_messages() %}
        <li style="background:var(--danger);color:#fff;padding:10px 16px;margin-bottom:8px;border-radius:6px;list-style:none;">{{ msg }}</li>
    {% endfor %}
    </ul>
{% endif %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Optional: auto-hide flash messages after 5s
    setTimeout(function() {
        document.querySelectorAll('ul li').forEach(function(li) {
            li.style.opacity = '0';
            li.style.transition = 'opacity 0.5s';
            setTimeout(function(){ li.remove(); }, 500);
        });
    }, 5000);
});
</script>
{% endblock %}
